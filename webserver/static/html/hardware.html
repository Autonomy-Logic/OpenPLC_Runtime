<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <script src="static/javascript/codemirror.js"></script>
    <script src="static/javascript/cm-python.js"></script>
    <link rel="stylesheet" href="static/css/w3.css" />
    <link rel="stylesheet" href="static/css/main.css" />
    <link rel="stylesheet" href="static/css/liquibyte.css" />
    <link rel="stylesheet" href="static/css/codemirror.css" />
    <link rel="stylesheet" href="static/css/hardware.css" />
    <script src="static/javascript/javascript.js"></script>
    <script src="static/javascript/active-line.js"></script>
    <script src="static/javascript/matchbrackets.js"></script>
    <script src="static/javascript/main.js"></script>
  </head>

  <body onload="loadData()">
    <div class="top">
      <img
        src="static/assets/openplc_logo.gif"
        alt="OpenPLC"
        id="logoOpenPLC"
      />
      <h3 id="header">
        <center><span id="headerStatus">Stopped: </span>Blank Program</center>
      </h3>
      <div class="user">
        <img id="userImg" src="static/assets/default-user.png" alt="User" />
        <h3 id="userTxt">OpenPLC User</h3>
      </div>
    </div>
    <div class="main">
      <div class="w3-sidebar w3-bar-block sidebar">
        <br />
        <br />
        <a href="/dashboard" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/home-icon.png"
            alt="Dashboard"
          />
          <p class="barButtonText">Dashboard</p>
        </a>
        <a href="/programs" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/programs-icon.png"
            alt="Programs"
          />
          <p class="barButtonText">Programs</p>
        </a>
        <a href="/modbus" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/modbus-icon.png"
            alt="Modbus"
          />
          <p class="barButtonText">Slave Devices</p>
        </a>
        <a href="/monitoring" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/monitoring-icon.png"
            alt="Monitoring"
          />
          <p class="barButtonText">Monitoring</p>
        </a>
        <a href="/hardware" class="w3-bar-item w3-button selectedBarButton">
          <img
            class="barIcon selectedBarIcon"
            src="static/assets/sidebar/hardware-icon.png"
            alt="Hardware"
          />
          <div id="arrowImg"></div>
          <p class="barButtonText selectedBarButtonText">Hardware</p>
        </a>
        <a href="/users" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/users-icon.png"
            alt="Users"
          />
          <p class="barButtonText">Users</p>
        </a>
        <a href="settings" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/settings-icon.png"
            alt="Settings"
          />
          <p class="barButtonText">Settings</p>
        </a>
        <a href="/logout" class="w3-bar-item w3-button">
          <img
            class="barIcon"
            src="static/assets/sidebar/logout-icon.png"
            alt="Logout"
          />
          <p class="barButtonText">Logout</p>
        </a>
        <br />
        <br />
        <center>
          <h3 class="barStatusText">Status: <i>Stopped</i></h3>
        </center>
        <a href="/startPlc" class="button start"><b>Start PLC</b></a>
      </div>
      <div class="mainContainer">
        <div class="w3-container">
          <br />
          <h2>Hardware</h2>
          <p>
            OpenPLC controls inputs and outputs through a piece of code called
            hardware layer (also known as driver). Therefore, to properly handle
            the inputs and outputs of your board, you must select the
            appropriate hardware layer for it. The Blank hardware layer is the
            default option on OpenPLC, which provides no support for native
            inputs and outputs.
          </p>
          <!-- <p>This section allows you to change the hardware layer used by OpenPLC. It is also possible to augment the current hardware layer through the hardware layer code box. -->
          <p><b>OpenPLC Hardware Layer</b></p>
          <p></p>
          <form
            id="uploadForm"
            enctype="multipart/form-data"
            action="http://localhost:8080/hardware"
            method="post"
          >
            <select
              id="hardware_layer"
              name="hardware_layer"
              onchange="refreshSelector()"
            ></select>
            <br />
            <br />
            <div id="psm_code">
              <p><b>OpenPLC Python SubModule (PSM)</b></p>
              <p></p>
              <p>
                PSM is a powerful bridge that connects OpenPLC core to Python.
                You can use PSM to write your own OpenPLC driver in pure Python.
                See below for a sample driver that switches %IX0.0 every second
              </p>
              <div id="cm_wrapper"></div>
            </div>
            <br />
            <br />
            <center>
              <input
                type="submit"
                class="button"
                style="
                  font-weight: bold;
                  width: 310px;
                  height: 53px;
                  margin: 0px 20px 0px 20px;
                "
                value="Save changes"
              /><a
                href="/restoreCustomHardware"
                id="code_restore"
                class="button"
                style="
                  display: none;
                  width: 310px;
                  height: 53px;
                  margin: 0px 20px 0px 20px;
                "
                ><b>Restore Original Code</b></a
              >
            </center>
            <br />
            <br />
          </form>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript" src="static/javascript/hardware.js"></script>
</html>
